@use '@fogo/component-library/theme';

.formEditor {
  padding: theme.spacing(3);
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  flex: 1;

  // Increase spacing between top-level instruction cards/constraints
  > .dynamicList {
    gap: theme.spacing(8);
  }
}

.instructionCard {
  border: 2px solid theme.color('border');
  border-radius: theme.border-radius('lg');
  padding: theme.spacing(4);
  display: flex;
  flex-direction: column;
  gap: theme.spacing(6);
  background: rgb(from theme.color('background') r g b / 90%);
}

.instructionHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: theme.spacing(3);
  border-bottom: 2px solid theme.color('border');
}

.instructionTitle {
  @include theme.text('sm', 'semibold');
  color: theme.color('muted');
  text-transform: uppercase;
  letter-spacing: theme.letter-spacing('wider');
}

.fieldRow {
  display: flex;
  gap: theme.spacing(2);
  align-items: center;
  flex-wrap: wrap;
}

.fieldGroup {
  display: flex;
  flex-direction: column;
  gap: theme.spacing(1);
}

.fieldLabel {
  @include theme.text('xs', 'medium');
  color: theme.color('muted');
}

.switchRow {
  display: flex;
  gap: theme.spacing(4);
  align-items: center;
  flex-wrap: wrap;
}

.section {
  display: flex;
  flex-direction: column;
  gap: theme.spacing(2);
  padding: theme.spacing(3) theme.spacing(4);
  background: rgb(from theme.color('border') r g b / 40%);

  // Nested sections (e.g. include/exclude within account constraints)
  .section {
    padding: theme.spacing(2) theme.spacing(3);
    background: rgb(from theme.color('border') r g b / 10%);
  }
}

.sectionHeader {
  @include theme.text('xs', 'semibold');
  color: theme.color('muted');
  text-transform: uppercase;
  letter-spacing: theme.letter-spacing('wider');
  padding-bottom: theme.spacing(1);
  border-bottom: 1px solid rgb(from theme.color('border') r g b / 40%);
}

.dynamicList {
  display: flex;
  flex-direction: column;
  gap: theme.spacing(2);
}

.dynamicListItem {
  display: flex;
  gap: theme.spacing(2);
  align-items: flex-start;
}

.dynamicListItemContent {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: theme.spacing(2);
}

.constraintRow {
  display: flex;
  gap: theme.spacing(2);
  align-items: flex-start;
  flex-wrap: wrap;
}

.selectField {
  min-width: theme.spacing(36);
}

.narrowField {
  width: theme.spacing(28);
}

.pubkeyField {
  flex: 1;
  min-width: theme.spacing(48);
}

.nestedCard {
  border: 2px solid theme.color('border');
  border-radius: theme.border-radius('md');
  padding: theme.spacing(3);
  display: flex;
  flex-direction: column;
  gap: theme.spacing(3);
}

.emptyState {
  @include theme.text('sm', 'normal');
  color: theme.color('muted');
  padding: theme.spacing(2) 0;
}
